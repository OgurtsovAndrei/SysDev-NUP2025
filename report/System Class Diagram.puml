@startuml Complete System Class Diagram (MVC)

' =================== FRONTEND VIEW LAYER ===================
package "Frontend View" #lightpink {
  class UserDashboardView {
    +renderUserProfile()
    +renderUsageData()
    +renderPackages()
    +renderBillingInfo()
  }

  class PackageView {
    +renderAvailablePackages()
    +renderPackageDetails()
    +renderOrderForm()
    +renderPromoCodeInput()
  }

  class SupportView {
    +renderTicketList()
    +renderTicketDetails()
    +renderCreateTicketForm()
    +renderChatInterface()
  }

  class FeedbackView {
    +renderFeedbackForm()
  }

  class LoginView {
    +renderLoginForm()
    +renderRegistrationForm()
    +renderForgotPasswordForm()
  }

  class HtmlPages {
    +index.html
    +dashboard.html
    +packages.html
    +support.html
    +feedback.html
    +login.html
    +register.html
    +profile.html
    +usage.html
  }
}

' =================== FRONTEND CONTROLLER LAYER ===================
package "Frontend Controller" #lightyellow {
  class UserController {
    +registerUser(userData)
    +loginUser(credentials)
    +logoutUser()
    +getUserProfile()
    +updateUserProfile(userData)
    +handleRegistrationForm()
    +handleLoginForm()
    +handleProfileUpdateForm()
  }

  class PackageController {
    +getPackageTypes()
    +getPackageOptions(typeId)
    +validatePromoCode(code)
    +orderPackage(packageData)
    +handlePackageSelection()
    +handlePromoCodeValidation()
    +handlePackageOrder()
  }

  class UsageController {
    +getUserUsageData()
    +refreshUsageData()
    +handleUsageDataFilters()
    +initializeUsagePage()
    +createPackageSection(pkg)
    +deletePackage(packageId)
  }

  class SupportController {
    +getSupportTickets()
    +createSupportTicket(ticketData)
    +updateSupportTicket(ticketId, data)
    +getChatHistory()
    +sendChatMessage(message)
    +handleTicketForm()
    +handleChatInput()
  }

  class FeedbackController {
    +submitFeedback(feedbackData)
    +handleFeedbackForm()
  }
}

' =================== FRONTEND CLIENT API MODEL LAYER ===================
package "Frontend Client Api model" #lightgreen {
  class ApiService {
    +get(endpoint, params)
    +post(endpoint, data)
    +put(endpoint, data)
    +delete(endpoint)
    +handleApiResponse(response)
    +getAuthHeaders()
  }

  class UserModel {
    +loginUser(email, password, rememberMe)
    +registerUser(fullName, email, password, confirmPassword, agreeTerms)
    +getUserProfile()
    +updateUserProfile(profileData)
    +getUserSupportTickets()
    +getUserNotifications()
    +markNotificationAsRead(notificationId)
  }

  class PackageModel {
    +getPackageTypes()
    +getPackageOptions(packageTypeId)
    +validatePromoCode(promoCode)
    +submitOrder(orderDetails)
  }

  class UsageModel {
    +getUserUsage()
    +deletePackage(packageId)
  }

  class FeedbackModel {
    +getFeedbackSummary()
    +submitFeedback(feedbackData)
  }

  class ChatModel {
    +getChatHistory()
    +sendChatMessage(messageText)
  }
}

' =================== REST API INTERFACE ===================
interface "REST API" as RestApi #orange {
  /users/**
  /packages/**
  /usage/**
  /tickets/**
  /chat/**
  /feedback/**
}

' =================== BACKEND CONTROLLER LAYER ===================
package "Backend Controller" #lightcyan {
  class ApiServer {
    +port: Integer
    +host: String
    +routes: Map<String, Object>
    +start(): void
    +stop(): void
    +handleRequest(request: Request): Response
    +registerRoute(path: String, method: String, handler: Function): void
    +getRoutesInfo(): List<RouteInfo>
    +getServerStatus(): ServerStatus
  }

  class BackendUserController {
    +register(request: UserRegistrationRequest): Response
    +login(request: LoginRequest): Response
    +logout(request: LogoutRequest): Response
    +getUserProfile(userId: String): Response
    +updateUserProfile(userId: String, data: UserProfileUpdateRequest): Response
  }

  class BackendPackageController {
    +getAllPackages(): Response
    +getPackageById(id: String): Response
    +getPackageTypes(): Response
    +getPackagesByType(typeId: String): Response
    +getUserPackages(userId: String): Response
    +orderPackage(request: PackageOrderRequest): Response
    +validatePromoCode(code: String): Response
  }

  class BackendUsageController {
    +getUserUsageData(userId: String): Response
    +getUserUsageByType(userId: String, type: UsageType): Response
    +getUserUsageByDateRange(userId: String, startDate: Date, endDate: Date): Response
  }

  class BackendSupportController {
    +getUserTickets(userId: String): Response
    +getTicketById(ticketId: String): Response
    +createTicket(request: TicketCreateRequest): Response
    +updateTicket(ticketId: String, request: TicketUpdateRequest): Response
  }

  class BackendChatController {
    +getTicketChatHistory(ticketId: String): Response
    +sendChatMessage(request: ChatMessageRequest): Response
  }

  class BackendFeedbackController {
    +submitFeedback(request: FeedbackRequest): Response
    +getFeedbackById(feedbackId: String): Response
    +getUserFeedback(userId: String): Response
  }
}

' =================== BACKEND MODEL LAYER (DATABASE) ===================
package "Backend Model" #lightblue {
  class User {
    -id: String
    -email: String
    -password: String
    -name: String
    -profile: UserProfile
    +getId(): String
    +getEmail(): String
    +getName(): String
    +getProfile(): UserProfile
    +setProfile(profile: UserProfile)
  }

  class UserProfile {
    -userId: String
    -address: String
    -phoneNumber: String
    -preferences: Map<String, Object>
    +getUserId(): String
    +getAddress(): String
    +getPhoneNumber(): String
    +getPreferences(): Map<String, Object>
  }

  class Package {
    -id: String
    -name: String
    -type: PackageType
    -price: Double
    -features: List<String>
    -isActive: Boolean
    +getId(): String
    +getName(): String
    +getType(): PackageType
    +getPrice(): Double
    +getFeatures(): List<String>
    +isActive(): Boolean
  }

  class UserPackage {
    -id: String
    -userId: String
    -packageId: String
    -startDate: Date
    -endDate: Date
    -status: PackageStatus
    +getId(): String
    +getUserId(): String
    +getPackageId(): String
    +getStartDate(): Date
    +getEndDate(): Date
    +getStatus(): PackageStatus
  }

  class UsageData {
    -id: String
    -userId: String
    -packageId: String
    -usageType: UsageType
    -amount: Double
    -date: Date
    +getId(): String
    +getUserId(): String
    +getPackageId(): String
    +getUsageType(): UsageType
    +getAmount(): Double
    +getDate(): Date
  }

  class SupportTicket {
    -id: String
    -userId: String
    -subject: String
    -description: String
    -status: TicketStatus
    -createdAt: Date
    -updatedAt: Date
    +getId(): String
    +getUserId(): String
    +getSubject(): String
    +getDescription(): String
    +getStatus(): TicketStatus
    +getCreatedAt(): Date
    +getUpdatedAt(): Date
  }

  class ChatMessage {
    -id: String
    -ticketId: String
    -senderId: String
    -message: String
    -timestamp: Date
    +getId(): String
    +getTicketId(): String
    +getSenderId(): String
    +getMessage(): String
    +getTimestamp(): Date
  }

  class Feedback {
    -id: String
    -userId: String
    -rating: Integer
    -comments: String
    -submittedDate: Date
    +getId(): String
    +getUserId(): String
    +getRating(): Integer
    +getComments(): String
    +getSubmittedDate(): Date
  }

  enum PackageType {
    BASIC
    STANDARD
    PREMIUM
    ENTERPRISE
  }

  enum PackageStatus {
    ACTIVE
    SUSPENDED
    CANCELLED
    EXPIRED
  }

  enum UsageType {
    DATA
    VOICE
    SMS
    ROAMING
  }

  enum TicketStatus {
    OPEN
    IN_PROGRESS
    RESOLVED
    CLOSED
  }
}

' =================== FRONTEND RELATIONSHIPS ===================

' Frontend View to Frontend Controller relationships
UserDashboardView "1" --o "1" UserController : uses >
UserDashboardView "1" --o "1" UsageController : uses >
UserDashboardView "1" --o "1" PackageController : uses >

PackageView "1" --o "1" PackageController : uses >

SupportView "1" --o "1" SupportController : uses >

FeedbackView "1" --o "1" FeedbackController : uses >

LoginView "1" --o "1" UserController : uses >

' Frontend Controller to Frontend Client Api model relationships
UserController "1" --o "1" UserModel : uses >
PackageController "1" --o "1" PackageModel : uses >
UsageController "1" --o "1" UsageModel : uses >
SupportController "1" --o "1" UserModel : uses >
SupportController "1" --o "1" ChatModel : uses >
FeedbackController "1" --o "1" FeedbackModel : uses >

' Frontend Client Api model to API Service relationships
UserModel "1" --o "1" ApiService : uses >
PackageModel "1" --o "1" ApiService : uses >
UsageModel "1" --o "1" ApiService : uses >
FeedbackModel "1" --o "1" ApiService : uses >
ChatModel "1" --o "1" ApiService : uses >

' HTML Pages to View components relationships
HtmlPages "1" --o "1" UserDashboardView : rendered by >
HtmlPages "1" --o "1" PackageView : rendered by >
HtmlPages "1" --o "1" SupportView : rendered by >
HtmlPages "1" --o "1" FeedbackView : rendered by >
HtmlPages "1" --o "1" LoginView : rendered by >

' Frontend Client Api model data relationships
UserModel "1" --o "*" PackageModel : user has packages >
UserModel "1" --o "*" UsageModel : user has usage data >
UserModel "1" --o "*" FeedbackModel : user submits feedback >
UserModel "1" --o "*" ChatModel : user has chat history >
PackageModel "1" --o "*" UsageModel : package tracks usage >

' =================== BACKEND RELATIONSHIPS ===================

' Backend Controller to Backend Model relationships
BackendUserController "1" --o "1..*" User : manages >
BackendUserController "1" --o "1..*" UserProfile : manages >
BackendPackageController "1" --o "1..*" Package : manages >
BackendPackageController "1" --o "1..*" UserPackage : manages >
BackendUsageController "1" --o "1..*" UsageData : manages >
BackendSupportController "1" --o "1..*" SupportTicket : manages >
BackendChatController "1" --o "1..*" ChatMessage : manages >
BackendFeedbackController "1" --o "1..*" Feedback : manages >

' REST API to Backend Controller relationships
RestApi "1" --o "1" ApiServer : exposes and handles >
ApiServer "1" --o "1" BackendUserController : routes requests to >
ApiServer "1" --o "1" BackendPackageController : routes requests to >
ApiServer "1" --o "1" BackendUsageController : routes requests to >
ApiServer "1" --o "1" BackendSupportController : routes requests to >
ApiServer "1" --o "1" BackendChatController : routes requests to >
ApiServer "1" --o "1" BackendFeedbackController : routes requests to >

' Backend Model relationship notations
User "1" --o "1" UserProfile : has >
User "1" --o "*" UserPackage : subscribes to >
Package "1" --o "*" UserPackage : subscribed by >
User "1" --o "*" UsageData : generates >
Package "1" --o "*" UsageData : tracked in >
User "1" --o "*" SupportTicket : creates >
SupportTicket "1" --o "*" ChatMessage : contains >
User "1" --o "*" Feedback : submits >

' Backend Type enumerations
Package "1" -- "1" PackageType : has type >
UserPackage "1" -- "1" PackageStatus : has status >
UsageData "1" -- "1" UsageType : has type >
SupportTicket "1" -- "1" TicketStatus : has status >

' =================== FRONTEND-BACKEND CONNECTION ===================

' Frontend to Backend connection via REST API
ApiService "1" --o "1" RestApi : sends requests to >

@enduml
